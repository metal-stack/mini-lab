---
# this is the static part of the partition inventory
# the connection details for leaf vms are generated
# by container lab to the mini-lab directory
partition:
  hosts:
    localhost:
      ansible_python_interpreter: "{{ ansible_playbook_python }}"
  children:
    leaves:

leaves:
  hosts:
    leaf01:
      lo: 10.0.0.11
      asn: 4200000011
      metal_core_cidr: 10.0.1.1/24

      dhcp_net: 10.0.1.0
      dhcp_netmask: 255.255.255.0
      dhcp_range_min: 10.0.1.2
      dhcp_range_max: 10.0.1.255
    leaf02:
      lo: 10.0.0.12
      asn: 4200000012
      metal_core_cidr: 10.0.1.128/24
      metal_core_image_name: robertvolkmann/metal-stack
      metal_core_image_tag: metal-core
      metal_core_reconfigure_switch: false
      metal_core_additional_bridge_ports:
      - Ethernet12
      - Ethernet16
      - Ethernet20
      - Ethernet24
      - Ethernet28
      - Ethernet32
      - Ethernet36
      - Ethernet40
      - Ethernet44
      - Ethernet48
      - Ethernet52
      - Ethernet56
      - Ethernet60
      - Ethernet64
      - Ethernet68
      - Ethernet72
      - Ethernet76
      - Ethernet80
      - Ethernet84
      - Ethernet88
      - Ethernet92
      - Ethernet96
      - Ethernet100
      - Ethernet104
      - Ethernet108
      - Ethernet112
      - Ethernet116
      - Ethernet120
      - Ethernet124
  vars:
    ports:
      1: 100G
    interfaces:
    - name: swp1
    uplinks: []
    pixie_server_ip: 10.0.1.1
    dhcp_server_ip: 10.0.1.1

    ansible_python_interpreter: /usr/bin/python
    ansible_user: root
    ansible_ssh_private_key_file: "{{ playbook_dir }}/files/ssh/id_rsa"

    # The best practice recommendation is to set an MTU of 9,216 for the inter-switch links,
    # and an MTU of 9,000 for the server-facing ports, which donâ€™t carry the VXLAN header.
    # See: EVPN in the Data center (D. Dutt, p.77)
    mtu:
      vxlan: 9216
      default: 9000
